<div class="bg-white">
  <div class="mx-auto max-w-7xl">
    <div class="p-6">
      <h2 class="mb-6 text-xl font-bold text-gray-800 lg:text-2xl">撮影スポットマップ</h2>
      <div id="map" class="h-72 md:h-600" data-posts=<%= @posts.to_json %>></div>
    </div>
    <div class="p-6">
      <div class="mb-6 flex items-center justify-between">
        <h2 class="text-xl font-bold text-gray-800 lg:text-2xl">新着投稿</h2>
        <%= link_to "さらに表示", fresh_posts_path, class: "inline-block rounded-lg border bg-white px-4 py-2 text-center text-sm font-semibold text-gray-500 outline-none ring-indigo-300 transition duration-100 hover:bg-gray-100 focus-visible:ring active:bg-gray-200 md:px-8 md:py-3 md:text-base" %>
      </div>
      <div class="grid gap-x-4 gap-y-8 sm:grid-cols-2 md:gap-x-6 lg:grid-cols-3 xl:grid-cols-4">
        <% @posts.each_with_index do |post, i| %>
          <div>
            <%= link_to post, class: "group relative mb-2 block h-80 overflow-hidden rounded-lg bg-gray-100 lg:mb-3" do %>
              <% if post.image.attached? %>
                <%= image_tag post.image.variant(resize_to_limit: [500, 500]), loading: "lazy", class: "h-full w-full object-cover object-center transition duration-200 group-hover:scale-105" %>
              <% end %>
            <% end %>
            <%= link_to post.title, post, class: "hover:gray-800 mb-1 text-gray-800 font-medium transition duration-100 lg:text-lg" %>
          </div>
          <%= break if i == 3 %>
        <% end %>
      </div>
    </div>
  </div>
</div>
