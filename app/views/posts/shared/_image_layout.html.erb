<%= turbo_frame_tag "image_layout" do %>
  <div class="columns-1 gap-2 sm:columns-2 lg:columns-4 [&>a:not(:first-child)]:mt-2">
    <% posts.each do |post| %>
      <%= link_to post, class: "group flex relative items-end block shadow-lg bg-gray-100 overflow-hidden", data: { turbo_frame: "_top" } do %>
        <% if post.image.present? %>
          <%= image_tag post.image.variant(resize_to_limit: [1000, 1000]), loading: "lazy" %>
        <% end %>
        <div class="absolute opacity-0 w-full p-2 bg-black bg-opacity-30 transition duration-200 group-hover:opacity-100">
          <span class="text-sm text-white"><%= post.title %></span>
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>
